<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fruit Clicker</title>

<style>
*{user-select:none}

body{
  margin:0;
  font-family:'Segoe UI',system-ui,Roboto,Arial,sans-serif;
  background:radial-gradient(circle at top,#bbf7d0,#86efac,#4ade80);
  min-height:100vh;
  overflow:hidden;
  display:grid;
  place-items:center;
}

/* ====== PAD√ÅN√ç OVOCE ====== */
.falling{
  position:fixed;
  top:-50px;
  pointer-events:none;
  z-index:0;
  opacity:.8;
  animation:fall linear infinite;
}

@keyframes fall{
  to{
    transform:translateY(110vh);
  }
}

/* ====== KARTA ====== */
.app{
  position:relative;
  z-index:2;
  background:linear-gradient(180deg,#ffffff,#f0fdf4);
  width:min(620px,95vw);
  border-radius:28px;
  padding:22px;
  box-shadow:0 30px 60px rgba(0,0,0,.25);
  text-align:center;
}

.top-left{
  position:absolute;
  top:14px;
  left:18px;
  background:#16a34a;
  color:white;
  padding:8px 14px;
  border-radius:999px;
  font-weight:900;
}

.menu-btn{
  position:absolute;
  top:14px;
  right:18px;
  background:#22c55e;
  color:white;
  padding:10px 16px;
  border-radius:999px;
  cursor:pointer;
  font-weight:800;
}

.fruit{
  font-size:120px;
  cursor:pointer;
}

.progress{
  height:16px;
  background:#dcfce7;
  border-radius:999px;
  overflow:hidden;
  margin:10px 0;
}

.bar{
  height:100%;
  background:linear-gradient(90deg,#22c55e,#4ade80);
  width:0%;
}

.upgrade{
  background:white;
  border-radius:18px;
  padding:14px;
  margin-top:12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 10px 20px rgba(0,0,0,.15);
}

.upgrade button{
  background:#22c55e;
  border:none;
  color:white;
  padding:10px 16px;
  border-radius:999px;
  font-weight:800;
  cursor:pointer;
}

.upgrade button:disabled{
  opacity:.4;
  cursor:not-allowed;
}

.menu-screen{display:none}

.levels{
  display:grid;
  gap:12px;
}

.level-item{
  background:white;
  padding:14px;
  border-radius:16px;
  display:flex;
  justify-content:space-between;
  cursor:pointer;
  font-weight:700;
  box-shadow:0 8px 16px rgba(0,0,0,.15);
}

.level-item.locked{
  opacity:.4;
  cursor:not-allowed;
}
</style>
</head>

<body>

<div class="app">

<div class="top-left">ü™ô <span id="coins">0</span></div>
<div class="menu-btn" id="menuBtn">üè† Menu</div>

<div id="game">

<h1>üçì Fruit Clicker</h1>
<div id="levelText"></div>
<div class="fruit" id="fruit"></div>
<div id="clickText"></div>
<div class="progress"><div class="bar" id="bar"></div></div>
<div id="needText"></div>

<h3>‚¨ÜÔ∏è UPGRADY</h3>

<div class="upgrade">
<div>
<b>Auto Clicker</b><br>
<small id="autoCost">Cena: 3000</small>
</div>
<button id="buyAuto">Koupit</button>
</div>

<div class="upgrade">
<div>
<b>Coin Multiplier</b><br>
<span id="coinInfo"></span><br>
<small id="coinCost"></small>
</div>
<button id="buyCoin">Koupit</button>
</div>

<div class="upgrade">
<div>
<b>Click Multiplier</b><br>
<span id="clickInfo"></span><br>
<small id="clickCost"></small>
</div>
<button id="buyClick">Koupit</button>
</div>

</div>

<div id="menu" class="menu-screen">
<h2>üìã V√Ωbƒõr levelu</h2>
<div class="levels" id="levels"></div>
</div>

</div>

<script>
/* ====== PAD√ÅN√ç OVOCE ====== */

const fallingFruits=["üç™","üçâ","üçé","üçå","üçç","üçä","ü•í","üçÖ","üçë","üçá"];

function createFalling(){
  const el=document.createElement("div");
  el.className="falling";
  el.textContent=fallingFruits[Math.floor(Math.random()*fallingFruits.length)];

  const size=Math.random()*30+20;
  el.style.fontSize=size+"px";
  el.style.left=Math.random()*100+"vw";

  const duration=Math.random()*15+15; // 15‚Äì30 sec
  el.style.animationDuration=duration+"s";

  document.body.appendChild(el);

  setTimeout(()=>el.remove(),duration*1000);
}

setInterval(createFalling,800);


/* ====== HRA ====== */

const $=id=>document.getElementById(id);

const multiplierPrices=[200,500,800,1300,1999,2400,3000,4500,5500,6500];

const levels=[
["Su≈°enka","üç™",250],
["Meloun","üçâ",500],
["Jablko","üçé",750],
["Ban√°n","üçå",1000],
["Ananas","üçç",1250],
["Pomeranƒç","üçä",1500],
["Okurka","ü•í",1750],
["Rajƒçe","üçÖ",2000],
["Broskev","üçë",2250],
["≈†vestka","üçá",2500]
];

let s=JSON.parse(localStorage.getItem("fruitSave"))||{
lvl:0,unlock:0,clicks:Array(10).fill(0),
coins:0,
coinMult:1,clickMult:1,
coinBought:0,clickBought:0,
auto:false,autoOn:false
};

let autoInterval=null;

function save(){localStorage.setItem("fruitSave",JSON.stringify(s));}

function render(){
const l=levels[s.lvl];
$("coins").textContent=s.coins;
$("levelText").textContent=`Level ${s.lvl+1} ‚Äì ${l[0]}`;
$("fruit").textContent=l[1];
$("clickText").textContent=`Kliky: ${s.clicks[s.lvl]}`;
$("needText").textContent=`Pot≈ôeba kliknout: ${l[2]}`;
$("bar").style.width=Math.min(100,(s.clicks[s.lvl]/l[2])*100)+"%";

$("coinInfo").textContent=`${s.coinMult}√ó`;
$("clickInfo").textContent=`${s.clickMult}√ó`;

const cp=multiplierPrices[s.coinBought];
$("coinCost").textContent=s.coinBought>=10?"MAX":`Cena: ${cp}`;
$("buyCoin").disabled=s.coinBought>=10||s.coins<cp;

const kp=multiplierPrices[s.clickBought];
$("clickCost").textContent=s.clickBought>=10?"MAX":`Cena: ${kp}`;
$("buyClick").disabled=s.clickBought>=10||s.coins<kp;

if(s.auto){
$("autoCost").textContent="Koupeno";
$("buyAuto").disabled=true;
}
}

function doClick(){
s.clicks[s.lvl]+=s.clickMult;
s.coins+=s.coinMult;

if(s.clicks[s.lvl]>=levels[s.lvl][2]){
if(s.lvl===9){
alert("üéâ Gratuluji, dohr√°l jsi hru!");
return;
}
s.unlock=Math.max(s.unlock,s.lvl+1);
s.lvl++;
}
save();
render();
}

$("fruit").onclick=doClick;

$("buyCoin").onclick=()=>{
const price=multiplierPrices[s.coinBought];
if(s.coinBought>=10||s.coins<price)return;
s.coins-=price;
s.coinMult+=1;
s.coinBought++;
save();render();
};

$("buyClick").onclick=()=>{
const price=multiplierPrices[s.clickBought];
if(s.clickBought>=10||s.coins<price)return;
s.coins-=price;
s.clickMult+=1;
s.clickBought++;
save();render();
};

$("buyAuto").onclick=()=>{
if(s.auto||s.coins<3000)return;
s.coins-=3000;
s.auto=true;
autoInterval=setInterval(doClick,1000);
save();render();
};

render();
</script>

</body>
</html>
