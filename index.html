<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fruit Clicker</title>

<style>
*{user-select:none}

body{
  margin:0;
  font-family:'Segoe UI',system-ui,Roboto,Arial,sans-serif;
  background:radial-gradient(circle at top,#bbf7d0,#86efac,#4ade80);
  min-height:100vh;
  display:grid;
  place-items:center;
}

.app{
  background:linear-gradient(180deg,#ffffff,#f0fdf4);
  width:min(760px,95vw);
  border-radius:28px;
  padding:22px;
  box-shadow:0 30px 60px rgba(0,0,0,.25);
  position:relative;
  text-align:center;
}

.top-left{
  position:absolute;
  top:14px;
  left:18px;
  background:#16a34a;
  color:white;
  padding:8px 14px;
  border-radius:999px;
  font-weight:900;
}

.game-row{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:30px;
}

.fruit{
  font-size:120px;
  cursor:pointer;
}

.auto-panel{
  background:#e2e8f0;
  padding:14px;
  border-radius:16px;
  width:150px;
  display:none;
}

.auto-panel button{
  margin-top:8px;
  padding:6px 10px;
  border:none;
  border-radius:999px;
  cursor:pointer;
  font-weight:bold;
}

.progress{
  height:16px;
  background:#dcfce7;
  border-radius:999px;
  overflow:hidden;
  margin:10px 0;
}

.bar{
  height:100%;
  background:linear-gradient(90deg,#22c55e,#4ade80);
  width:0%;
}

.upgrades-title{
  margin-top:20px;
  font-weight:bold;
  font-size:20px;
}

.upgrade{
  background:white;
  border-radius:18px;
  padding:14px;
  margin-top:12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:0 10px 20px rgba(0,0,0,.15);
}

.upgrade button{
  background:#22c55e;
  border:none;
  color:white;
  padding:8px 14px;
  border-radius:999px;
  font-weight:800;
  cursor:pointer;
}

.upgrade button:disabled{
  opacity:.4;
  cursor:not-allowed;
}
</style>
</head>

<body>

<div class="app">
  <div class="top-left">ü™ô <span id="coins">0</span></div>

  <h1>üçì Fruit Clicker</h1>
  <div id="levelText"></div>

  <div class="game-row">
    <div>
      <div class="fruit" id="fruit"></div>
      <div id="clickText"></div>
    </div>

    <div class="auto-panel" id="autoPanel">
      <b>AUTO CLICKER</b>
      <div id="autoStatus">OFF</div>
      <button id="toggleAuto">Zapnout</button>
    </div>
  </div>

  <div class="progress"><div class="bar" id="bar"></div></div>
  <div id="needText"></div>

  <div class="upgrades-title">‚¨ÜÔ∏è UPGRADY</div>

  <div class="upgrade">
    <div>
      <b>Auto Clicker</b><br>
      <small id="autoCost">Cena: 3000</small>
    </div>
    <button id="buyAuto">Koupit</button>
  </div>

  <div class="upgrade">
    <div>
      <b>Coin Multiplier</b><br>
      <span id="coinInfo"></span><br>
      <small id="coinCost"></small>
    </div>
    <button id="buyCoin">Koupit</button>
  </div>

  <div class="upgrade">
    <div>
      <b>Click Multiplier</b><br>
      <span id="clickInfo"></span><br>
      <small id="clickCost"></small>
    </div>
    <button id="buyClick">Koupit</button>
  </div>

</div>

<script>
const $=id=>document.getElementById(id);

const levels=[
 ["Su≈°enka","üç™",250],
 ["Meloun","üçâ",500],
 ["Jablko","üçé",750],
 ["Ban√°n","üçå",1000],
 ["Ananas","üçç",1250],
 ["Pomeranƒç","üçä",1500],
 ["Okurka","ü•í",1750],
 ["Rajƒçe","üçÖ",2000],
 ["Broskev","üçë",2250],
 ["≈†vestka","üçá",2500]
];

const coinPrices=[200,500,1000,2000,3000];
const clickPrices=[300,600,1200,2300,3450];

let s=JSON.parse(localStorage.getItem("fruitSave"))||{
 lvl:0, unlock:0, clicks:Array(10).fill(0),
 coins:0, coinMult:1, clickMult:1,
 coinBought:0, clickBought:0,
 autoBought:false, autoOn:false
};

let autoInterval=null;

function save(){localStorage.setItem("fruitSave",JSON.stringify(s));}

function coinPrice(){return s.coinBought>=5?null:coinPrices[s.coinBought];}
function clickPrice(){return s.clickBought>=5?null:clickPrices[s.clickBought];}

function render(){
 const l=levels[s.lvl];
 $("coins").textContent=s.coins;
 $("levelText").textContent=`Level ${s.lvl+1} ‚Äì ${l[0]}`;
 $("fruit").textContent=l[1];
 $("clickText").textContent=`Kliky: ${s.clicks[s.lvl]}`;
 $("needText").textContent=`Pot≈ôeba kliknout: ${l[2]}`;
 $("bar").style.width=Math.min(100,(s.clicks[s.lvl]/l[2])*100)+"%";

 const cp=coinPrice();
 $("coinInfo").textContent=`${s.coinMult}√ó`;
 $("coinCost").textContent=cp?`Cena: ${cp}`:"MAX";
 $("buyCoin").disabled=!cp||s.coins<cp;

 const kp=clickPrice();
 $("clickInfo").textContent=`${s.clickMult}√ó`;
 $("clickCost").textContent=kp?`Cena: ${kp}`:"MAX";
 $("buyClick").disabled=!kp||s.coins<kp;

 if(s.autoBought){
   $("autoCost").textContent="Koupeno";
   $("buyAuto").disabled=true;
   $("autoPanel").style.display="block";
   $("autoStatus").textContent=s.autoOn?"ON":"OFF";
 }else{
   $("buyAuto").disabled=s.coins<3000;
 }
}

function clickFruit(){
 s.clicks[s.lvl]+=s.clickMult;
 s.coins+=s.coinMult;

 if(s.clicks[s.lvl]>=levels[s.lvl][2]){
   if(s.lvl===9){
     alert("üéâ Gratuluji, dohr√°l jsi celou hru!");
     return;
   }
   s.unlock=Math.max(s.unlock,s.lvl+1);
   s.lvl++;
 }
 save();
 render();
}

$("fruit").onclick=clickFruit;

$("buyAuto").onclick=()=>{
 if(s.coins<3000)return;
 s.coins-=3000;
 s.autoBought=true;
 save();
 render();
};

$("toggleAuto").onclick=()=>{
 s.autoOn=!s.autoOn;
 if(s.autoOn){
   autoInterval=setInterval(clickFruit,1000);
 }else{
   clearInterval(autoInterval);
 }
 save();
 render();
};

$("buyCoin").onclick=()=>{
 const p=coinPrice();
 if(!p||s.coins<p)return;
 s.coins-=p;
 s.coinMult+=2;
 s.coinBought++;
 save();
 render();
};

$("buyClick").onclick=()=>{
 const p=clickPrice();
 if(!p||s.coins<p)return;
 s.coins-=p;
 s.clickMult+=2;
 s.clickBought++;
 save();
 render();
};

render();
</script>

</body>
</html>
